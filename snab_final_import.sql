-- =====================================================
-- SNAB: –ò–ú–ü–û–†–¢ –î–ï–†–ï–í–ê –ö–ê–¢–ï–ì–û–†–ò–ô (–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –≥–æ—Ç–æ–≤—ã–π!)
-- =====================================================
-- ‚úÖ –®–∞–≥ 1: –í—Å—Ç–∞–≤–ª—è–µ–º –í–°–ï –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (Hxx –∏ Sxx) –ë–ï–ó parent_id
-- ‚úÖ –®–∞–≥ 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–∏–Ω–∫—É–µ–º Sxx –∫ Hxx —á–µ—Ä–µ–∑ UPDATE –ø–æ –ø—É—Ç–∏
--
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: docker-compose exec -T postgres psql -U snab -d snab < snab_final_import.sql
--
-- =====================================================

-- üßπ –û–ß–ò–°–¢–ö–ê
DELETE FROM suppliers_supplier_categories WHERE category_id NOT IN (SELECT id FROM catalog_category);
TRUNCATE catalog_category RESTART IDENTITY CASCADE;

-- üéØ –í–°–¢–ê–í–ö–ê: –í–°–ï –ö–ê–¢–ï–ì–û–†–ò–ò (–±–µ–∑ parent_id –¥–ª—è Sxx, –° –î–ê–¢–ê–ú–ò!)
INSERT INTO catalog_category (code, name, description, is_leaf, level, path, includes, excludes, borderline, created_at, updated_at) VALUES

-- === –ì–†–£–ü–ü–´ (Hxx, —É—Ä–æ–≤–µ–Ω—å 0) ===
('H00', '–û—Å–Ω–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—Ä–∫–∞—Å', '–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∑–¥–∞–Ω–∏—è', false, 0, 'H00', 'S01-S04', '–æ—Ç–¥–µ–ª–∫–∞(H07), –∏–Ω–∂–µ–Ω–µ—Ä–∏—è(H06)', '–∫–∞—Ä–∫–∞—Å/–ø–ª–∏—Ç—ã‚Üí–∏–∑–æ–ª—è—Ü–∏–∏(H01)', NOW(), NOW()),
('H01', '–ò–∑–æ–ª—è—Ü–∏–∏ –∏ –º–µ–º–±—Ä–∞–Ω—ã', '–£—Ç–µ–ø–ª–∏—Ç–µ–ª–∏ –∏ –∑–∞—â–∏—Ç–Ω—ã–µ –ø–ª—ë–Ω–∫–∏', false, 0, 'H01', 'S11-S12', '–ø–æ–¥–ª–æ–∂–∫–∏ –Ω–∞–ø–æ–ª—å–Ω—ã–µ(S73)', '—Ñ–∞—Å–∞–¥–Ω—ã–π —É—Ç–µ–ø–ª–∏—Ç–µ–ª—å‚ÜíS31/S33', NOW(), NOW()),
('H02', '–ö—Ä–æ–≤–ª—è –∏ –≤–æ–¥–æ–æ—Ç–≤–æ–¥', '–ö—Ä–æ–≤–µ–ª—å–Ω—ã–µ –ø–æ–∫—Ä—ã—Ç–∏—è –∏ –≤–æ–¥–æ—Å—Ç–æ–∫–∏', false, 0, 'H02', 'S21-S22', '–≥–µ—Ä–º–µ—Ç–∏–∫–∏(S81)', 'OSB –ø–æ–¥ –∫—Ä–æ–≤–ª—é‚ÜíS04', NOW(), NOW()),
('H03', '–§–∞—Å–∞–¥—ã –∏ –Ω–∞—Ä—É–∂–Ω–∞—è –æ–±–ª–∏—Ü–æ–≤–∫–∞', '–ù–∞–≤–µ—Å–Ω—ã–µ —Ñ–∞—Å–∞–¥—ã –∏ —à—Ç—É–∫–∞—Ç—É—Ä–∫–∞', false, 0, 'H03', 'S31-S33', '–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—Ç–¥–µ–ª–∫–∞(H07)', '–ø–æ–¥—Å–∏—Å—Ç–µ–º–∞‚Üí–æ–±–ª–∏—Ü–æ–≤–∫–∞‚Üí—à—Ç—É–∫–∞—Ç—É—Ä–∫–∞', NOW(), NOW()),
('H04', '–û—Å—Ç–µ–∫–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ–µ–º—ã', '–û–∫–Ω–∞, –¥–≤–µ—Ä–∏, –≤–æ—Ä–æ—Ç–∞', false, 0, 'H04', 'S41-S45', '–≥–µ—Ä–º–µ—Ç–∏–∫–∏(S81)', '—Å—Ç–µ–∫–ª–æ–ø–∞–∫–µ—Ç—ã‚Üí–æ–∫–Ω–∞ –≤ —Å–±–æ—Ä–µ', NOW(), NOW()),
('H05', '–°–±–æ—Ä–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã', '–ì–æ—Ç–æ–≤—ã–µ –ª–µ—Å—Ç–Ω–∏—Ü—ã/—Ñ–µ—Ä–º—ã', false, 0, 'H05', 'S51', '–ø–∏–ª–æ–º–∞—Ç–µ—Ä–∏–∞–ª—ã(S02)', '-', NOW(), NOW()),
('H06', '–ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã', '–≠–ª–µ–∫—Ç—Ä–∏–∫–∞, —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞, –æ—Ç–æ–ø–ª–µ–Ω–∏–µ', false, 0, 'H06', 'S61-S65', '—Ö–∏–º–∏—è(S81)', '-', NOW(), NOW()),
('H07', '–û—Ç–¥–µ–ª–∫–∞', '–ß–µ—Ä–Ω–æ–≤–∞—è –∏ —á–∏—Å—Ç–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞', false, 0, 'H07', 'S71-S74', '–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤(H00)', '-', NOW(), NOW()),
('H08', '–†–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ –∏ —Ö–∏–º–∏—è', '–ü–µ–Ω—ã, –∫–ª–µ–∏, –≥–µ—Ä–º–µ—Ç–∏–∫–∏', false, 0, 'H08', 'S81', '-', '–í–°–ï–ì–î–ê —Å—é–¥–∞!', NOW(), NOW()),
('H09', '–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏', '–õ–µ—Å–∞, –≤—ã—à–∫–∏, –æ–ø–∞–ª—É–±–∫–∞', false, 0, 'H09', 'S91', '–°–ò–ó(SC1)', '-', NOW(), NOW()),
('H0A', '–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', '–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã, —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', false, 0, 'H0A', 'SA1-SA3', '—Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏(S81)', '-', NOW(), NOW()),
('H0B', '–ù–∞—Ä—É–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã', '–ë–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –ª–∞–Ω–¥—à–∞—Ñ—Ç', false, 0, 'H0B', 'SB1-SB2', '–∫—Ä–æ–≤–ª—è/—Ñ–∞—Å–∞–¥', '-', NOW(), NOW()),
('H0C', '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å', '–°–ò–ó –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞', false, 0, 'H0C', 'SC1', '-', '-', NOW(), NOW()),

-- === –õ–ò–°–¢–¨–Ø (Sxx, —É—Ä–æ–≤–µ–Ω—å 1) ===
-- H00
('S01', '–û—Å–Ω–æ–≤–∞–Ω–∏—è –∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—ã', '–°–≤–∞–∏, –±–µ—Ç–æ–Ω, –∞—Ä–º–∞—Ç—É—Ä–∞', true, 1, 'H00/S01', '—Å–≤–∞–∏ –≤–∏–Ω—Ç–æ–≤—ã–µ/–ñ–ë, –±–µ—Ç–æ–Ω/—Ü–µ–º–µ–Ω—Ç/–ø–µ—Å–æ–∫/—â–µ–±–µ–Ω—å, –∞—Ä–º–∞—Ç—É—Ä–∞, –æ–ø–∞–ª—É–±–∫–∞, –∑–∞–∫–ª–∞–¥–Ω—ã–µ/–∞–Ω–∫–µ—Ä–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–Ω—ã–µ, —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–Ω—ã–µ –≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏–∏ (–º–∞—Å—Ç–∏–∫–∏/—Ä—É–ª–æ–Ω—ã –∏–º–µ–Ω–Ω–æ –¥–ª—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞), –ø–æ–¥—É—à–∫–∏/–≥–µ–æ—Ç–µ–∫—Å—Ç–∏–ª—å –ø–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ', '—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ö–∏–º–∏—è (S81), –ª–µ—Å–∞/–æ–ø–æ—Ä—ã (S91), –∫–∞—Ä–∫–∞—Å–Ω—ã–µ –ø–∏–ª–æ–º–∞—Ç–µ—Ä–∏–∞–ª—ã (S02), –ø–ª–∏—Ç–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (S04)', '–≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏—è —Ü–æ–∫–æ–ª—è ‚Äî —Å—é–¥–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —á–∞—Å—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–Ω–æ–≥–æ —É–∑–ª–∞; –∏–Ω–∞—á–µ S33', NOW(), NOW()),
('S02', '–ö–∞—Ä–∫–∞—Å (–±–∞–ª–∫–∏/—Å—Ç–æ–π–∫–∏/LVL/GLT)', '–î–æ—Å–∫–∞/–±—Ä—É—Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω—ã–π', true, 1, 'H00/S02', '–¥–æ—Å–∫–∞/–±—Ä—É—Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω—ã–π, LVL/GLT, —Å—Ç–æ–π–∫–∏/—Ä–∏–≥–µ–ª–∏/—Å—Ç—Ä–æ–ø–∏–ª–∞, –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ –±–∞–ª–∫–∏/—à–≤–µ–ª–ª–µ—Ä—ã –≤ —Å–æ—Å—Ç–∞–≤–µ –∫–∞—Ä–∫–∞—Å–∞, –ª–∞–≥–∏/–æ–±–≤—è–∑–∫–∏', '–ø–ª–∏—Ç–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ–±—à–∏–≤–∫–∏/–∂—ë—Å—Ç–∫–æ—Å—Ç–∏ (S04), –∫—Ä–µ–ø—ë–∂ (S03), –ª–µ—Å—Ç–Ω–∏—Ü—ã –≥–æ—Ç–æ–≤—ã–µ (S51)', '—Ç–µ—Ä—Ä–∞—Å–Ω—ã–µ –ª–∞–≥–∏ –∫–∞–∫ —á–∞—Å—Ç—å —Ç–µ—Ä—Ä–∞—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã ‚Üí SB1', NOW(), NOW()),
('S03', '–ö—Ä–µ–ø—ë–∂ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–π', '–°–∞–º–æ—Ä–µ–∑—ã, –∞–Ω–∫–µ—Ä–∞', true, 1, 'H00/S03', '—Å–∞–º–æ—Ä–µ–∑—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ, –≥–≤–æ–∑–¥–∏, —à–ø–∏–ª—å–∫–∏/–≥–∞–π–∫–∏/—à–∞–π–±—ã, –∞–Ω–∫–µ—Ä–∞, –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª–∏', '–∫–ª–∏–ø—Å—ã/–∫–ª—è–π–º–µ—Ä—ã –ø–ª–∏–Ω—Ç—É—Å–æ–≤/–ø–∞–Ω–µ–ª–µ–π (S74), —Ö–∏–º–∞–Ω–∫–µ—Ä—ã/–∫–ª–µ–∏ (S81)', '—Å–∫—Ä—ã—Ç—ã–π –∫—Ä–µ–ø—ë–∂ —Ñ–∞—Å–∞–¥–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º ‚Üí S31', NOW(), NOW()),
('S04', '–ü–ª–∏—Ç–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã', '–ú–î–í–ü/–û–°–ë/—Ñ–∞–Ω–µ—Ä–∞', true, 1, 'H00/S04', '–ú–î–í–ü, OSB, —Ñ–∞–Ω–µ—Ä–∞, –¶–°–ü/–î–°–ü –¥–ª—è –æ–±—à–∏–≤–∫–∏ –∏ –∂—ë—Å—Ç–∫–æ—Å—Ç–∏, –ø–ª–∏—Ç—ã –ø–æ–¥ –∫—Ä–æ–≤–ª—é/–ø–æ–ª (—á–µ—Ä–Ω–æ–≤—ã–µ)', '–ì–ö–õ/–ì–í–õ –¥–ª—è –æ—Ç–¥–µ–ª–∫–∏ (S71), —Ñ–∞—Å–∞–¥–Ω—ã–µ —Ñ–∏–±—Ä–æ—Ü–µ–º–µ–Ω—Ç–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ (S32)', '–ú–î–í–ü –∫–∞–∫ –≤–µ—Ç—Ä–æ–∑–∞—â–∏—Ç–∞ ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞—è/–æ–±—à–∏–≤–æ—á–Ω–∞—è ‚Üí S04', NOW(), NOW()),

-- H01
('S11', '–¢–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏—è', '–ú–∏–Ω–≤–∞—Ç–∞, XPS, PIR', true, 1, 'H01/S11', '–º–∏–Ω–µ—Ä–∞–ª–æ–≤–∞—Ç–Ω—ã–µ –ø–ª–∏—Ç—ã/–º–∞—Ç—ã, —Å—Ç–µ–∫–ª–æ–≤–∞—Ç–∞, —ç–∫–æ–≤–∞—Ç–∞, XPS/EPS, PIR/PUR', '–ø–æ–¥–ª–æ–∂–∫–∏ –Ω–∞–ø–æ–ª—å–Ω—ã–µ (S73), –∞–∫—É—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–µ–º–±—Ä–∞–Ω—ã (S12)', '—Ñ–∞—Å–∞–¥–Ω—ã–π —É—Ç–µ–ø–ª–∏—Ç–µ–ª—å –≤ —Å–æ—Å—Ç–∞–≤–µ —Ñ–∞—Å–∞–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã ‚Üí S31/S33', NOW(), NOW()),
('S12', '–ú–µ–º–±—Ä–∞–Ω—ã/–ª–µ–Ω—Ç—ã', '–ü–∞—Ä–æ-/–≥–∏–¥—Ä–æ-/–≤–µ—Ç—Ä–æ–∑–∞—â–∏—Ç–∞', true, 1, 'H01/S12', '–ø–∞—Ä–æ–∏–∑–æ–ª—è—Ü–∏—è, –°–î–ú/–≤–µ—Ç—Ä–æ–∑–∞—â–∏—Ç–∞, –≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –ø–ª—ë–Ω–∫–∏, –±—É—Ç–∏–ª–∫–∞—É—á—É–∫–æ–≤—ã–µ/–∞–ª—é–º–∏–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–µ–Ω—Ç—ã, —Å–∫–æ—Ç—á–∏', '—Ä—É–ª–æ–Ω–Ω—ã–µ –∫—Ä–æ–≤–µ–ª—å–Ω—ã–µ –ø–æ–∫—Ä—ã—Ç–∏—è (S21), —à—Ç—É–∫–∞—Ç—É—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (S33), –≥–µ—Ä–º–µ—Ç–∏–∫–∏/–∫–ª–µ–∏ (S81)', '–ø–æ–¥–∫–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–≤–µ—Ä –º—è–≥–∫–æ–π –∫—Ä–æ–≤–ª–∏ ‚Üí S21', NOW(), NOW()),

-- H02
('S21', '–ö—Ä–æ–≤–ª—è (–ø–æ–∫—Ä—ã—Ç–∏—è)', '–ú–µ—Ç–∞–ª–ª–æ—á–µ—Ä–µ–ø–∏—Ü–∞, –º—è–≥–∫–∞—è –∫—Ä–æ–≤–ª—è', true, 1, 'H02/S21', '–º–µ—Ç–∞–ª–ª–æ—á–µ—Ä–µ–ø–∏—Ü–∞/–ø—Ä–æ—Ñ–ª–∏—Å—Ç/—Ñ–∞–ª—å—Ü/–º—è–≥–∫–∞—è –∫—Ä–æ–≤–ª—è/–û–ù–î–£, –ø–æ–¥–∫–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–≤—Ä—ã, –µ–Ω–¥–æ–≤—ã/–∫–æ–Ω—å–∫–∏/–ø–ª–∞–Ω–∫–∏, –∞—ç—Ä–∞—Ç–æ—Ä—ã, —Å–Ω–µ–≥–æ–∑–∞–¥–µ—Ä–∂–∞—Ç–µ–ª–∏', '–≤–æ–¥–æ—Å—Ç–æ–∫–∏ (S22), –≥–µ—Ä–º–µ—Ç–∏–∫–∏/–∫–ª–µ–∏ –∫—Ä–æ–≤–µ–ª—å–Ω—ã–µ (S81), –ª–µ—Å—Ç–Ω–∏—Ü—ã/—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ (SC1)', 'OSB –ø–æ–¥ –º—è–≥–∫—É—é –∫—Ä–æ–≤–ª—é ‚Üí S04', NOW(), NOW()),
('S22', '–í–æ–¥–æ—Å—Ç–æ–∫', '–ñ–µ–ª–æ–±–∞/—Ç—Ä—É–±—ã', true, 1, 'H02/S22', '–∂–µ–ª–æ–±–∞/—Ç—Ä—É–±—ã, –∫—Ä–æ–Ω—à—Ç–µ–π–Ω—ã/–∫–æ–ª–µ–Ω–∞/–≤–æ—Ä–æ–Ω–∫–∏, –∫–æ–º–ø–µ–Ω—Å–∞—Ç–æ—Ä—ã/—Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª–∏', '—Ñ–∞—Å–∞–¥–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ (S31), –≥–µ—Ä–º–µ—Ç–∏–∫–∏ (S81)', '-', NOW(), NOW()),

-- H03
('S31', '–ü–ª–∞–Ω–∫–µ–Ω/–ø–æ–¥—Å–∏—Å—Ç–µ–º—ã', '–ù–∞–≤–µ—Å–Ω—ã–µ —Ñ–∞—Å–∞–¥—ã', true, 1, 'H03/S31', '–ø–ª–∞–Ω–∫–µ–Ω/–¥–æ—Å–∫–∞ —Ñ–∞—Å–∞–¥–Ω–∞—è, –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ/–∫—Ä–æ–Ω—à—Ç–µ–π–Ω—ã/–∫–ª—è–π–º–µ—Ä—ã –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã, —Å—Ç–∞—Ä—Ç/—Ñ–∏–Ω–∏—à –ø—Ä–æ—Ñ–∏–ª–∏', '—Ñ–∏–±—Ä–æ—Ü–µ–º–µ–Ω—Ç–Ω—ã–µ –ø–ª–∏—Ç—ã (S32), —à—Ç—É–∫–∞—Ç—É—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (S33), –∫—Ä–µ–ø—ë–∂ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π (S03)', '—Ñ–∞—Å–∞–¥–Ω—ã–π —É—Ç–µ–ø–ª–∏—Ç–µ–ª—å –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ ‚Üí S31', NOW(), NOW()),
('S32', '–§–¶–ü —Ñ–∞—Å–∞–¥–Ω—ã–µ', '–§–∏–±—Ä–æ—Ü–µ–º–µ–Ω—Ç–Ω—ã–µ –ø–ª–∏—Ç—ã', true, 1, 'H03/S32', '—Ñ–∞—Å–∞–¥–Ω—ã–µ –§–¶–ü/–∫–µ—Ä–∞–º–æ–≥—Ä–∞–Ω–∏—Ç –≤ –Ω–∞–≤–µ—Å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, —Å–ø–µ—Ü-–∫—Ä–µ–ø—ë–∂, –ø—Ä–æ—Ñ–∏–ª–∏/—É–≥–æ–ª–∫–∏', 'OSB/–¶–°–ü —á–µ—Ä–Ω–æ–≤—ã–µ (S04), —à—Ç—É–∫–∞—Ç—É—Ä–∫–∞ (S33), —Ö–∏–º–∏—è (S81)', '—Ä–∞–∑–¥–µ–ª—å–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞ ‚Üí S31+S32', NOW(), NOW()),
('S33', '–®—Ç—É–∫–∞—Ç—É—Ä–∫–∞ —Ñ–∞—Å–∞–¥–Ω–∞—è', '–ú–æ–∫—Ä—ã–π —Ñ–∞—Å–∞–¥', true, 1, 'H03/S33', '—Ñ–∞—Å–∞–¥–Ω—ã–µ —à—Ç—É–∫–∞—Ç—É—Ä–∫–∏/—à–ø–∞—Ç–ª—ë–≤–∫–∏/–≥—Ä—É–Ω—Ç—ã/–∞—Ä–º–∏—Ä—É—é—â–∏–µ —Å–µ—Ç–∫–∏/—É–≥–æ–ª–∫–∏', '–∏–Ω—Ç–µ—Ä—å–µ—Ä–Ω—ã–µ —à—Ç—É–∫–∞—Ç—É—Ä–∫–∏ (S71), –∫—Ä–∞—Å–∫–∏ —á–∏—Å—Ç–æ–≤—ã–µ (S72)', '—Ñ–∞—Å–∞–¥–Ω—ã–µ –∫—Ä–∞—Å–∫–∏ –ø–æ —à—Ç—É–∫–∞—Ç—É—Ä–∫–µ –∫–æ–º–ø–ª–µ–∫—Ç–Ω–æ ‚Üí S33', NOW(), NOW()),

-- H04
('S41', '–°—Ç–µ–∫–ª–æ–ø–∞–∫–µ—Ç—ã', '2-3 –∫–∞–º–µ—Ä–Ω—ã–µ', true, 1, 'H04/S41', '—Å—Ç–µ–∫–ª–æ–ø–∞–∫–µ—Ç—ã (–¥–≤—É—Ö/—Ç—Ä—ë—Ö–∫–∞–º–µ—Ä–Ω—ã–µ), —ç–Ω–µ—Ä–≥–æ/–º—É–ª—å—Ç–∏, –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏', '–æ–∫–æ–Ω–Ω—ã–µ —Ä–∞–º—ã/—Ñ—É—Ä–Ω–∏—Ç—É—Ä–∞ (S42), –≥–µ—Ä–º–µ—Ç–∏–∫–∏ (S81)', '-', NOW(), NOW()),
('S42', '–û–∫–Ω–∞ (—Å —Ñ—É—Ä–Ω–∏—Ç—É—Ä–æ–π)', '–ü–í–•/–∞–ª—é/–¥–µ—Ä–µ–≤–æ', true, 1, 'H04/S42', '–æ–∫–Ω–∞ –ü–í–•/–∞–ª—é/–¥–µ—Ä–µ–≤–æ, —Ä–∞–º—ã/—Å—Ç–≤–æ—Ä–∫–∏, —Ä—É—á–∫–∏/–ø–µ—Ç–ª–∏, –ø–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–∏/–æ—Ç–ª–∏–≤—ã/—Å–µ—Ç–∫–∏', '—Å—Ç–µ–∫–ª–æ–ø–∞–∫–µ—Ç—ã (S41), –ø–µ–Ω—ã/–ª–µ–Ω—Ç—ã (S81)', '-', NOW(), NOW()),
('S43', '–î–≤–µ—Ä–∏', '–í—Ö–æ–¥–Ω—ã–µ/–º–µ–∂–∫–æ–º–Ω–∞—Ç–Ω—ã–µ', true, 1, 'H04/S43', '–≤—Ö–æ–¥–Ω—ã–µ/–º–µ–∂–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –¥–≤–µ—Ä–∏, –∫–æ—Ä–æ–±–∫–∏/–Ω–∞–ª–∏—á–Ω–∏–∫–∏, –∑–∞–º–∫–∏/—Ä—É—á–∫–∏/–ø–µ—Ç–ª–∏/–¥–æ–≤–æ–¥—á–∏–∫–∏', '–≥–µ—Ä–º–µ—Ç–∏–∫–∏/–ø–µ–Ω—ã (S81)', '-', NOW(), NOW()),
('S44', '–í–æ—Ä–æ—Ç–∞', '–°–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ/—Ä–∞—Å–ø–∞—à–Ω—ã–µ', true, 1, 'H04/S44', '—Å–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ/—Ä–∞—Å–ø–∞—à–Ω—ã–µ/–æ—Ç–∫–∞—Ç–Ω—ã–µ –≤–æ—Ä–æ—Ç–∞, –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ/—Ä–æ–ª–∏–∫–∏/–ø—Ä–∏–≤–æ–¥—ã', '–∫–∞–ª–∏—Ç–∫–∏ (S43)', '-', NOW(), NOW()),
('S45', '–°—Ç–µ–∫–ª—è–Ω–Ω—ã–µ –æ–≥—Ä–∞–∂–¥–µ–Ω–∏—è', '–ü–µ—Ä–∏–ª–∞/—Å—Ç–æ–π–∫–∏', true, 1, 'H04/S45', '—Å—Ç–µ–∫–ª—è–Ω–Ω—ã–µ –ø–µ—Ä–∏–ª–∞/–æ–≥—Ä–∞–∂–¥–µ–Ω–∏—è/—Å—Ç–æ–π–∫–∏/–∫—Ä–µ–ø–ª–µ–Ω–∏—è/—Ç–æ—á–µ—á–Ω—ã–µ –∑–∞–∂–∏–º—ã, –ø–æ—Ä—É—á–Ω–∏', '–±–∞–ª—è—Å–∏–Ω—ã –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–µ (S51), —Ö–∏–º–∏—è (S81)', '-', NOW(), NOW()),

-- H05
('S51', '–õ–µ—Å—Ç–Ω–∏—Ü—ã/—Ñ–µ—Ä–º—ã', '–ì–æ—Ç–æ–≤—ã–µ —É–∑–ª—ã', true, 1, 'H05/S51', '–≥–æ—Ç–æ–≤—ã–µ –º–∞—Ä—à–µ–≤—ã–µ/–º–∞–Ω—Å–∞—Ä–¥–Ω—ã–µ –ª–µ—Å—Ç–Ω–∏—Ü—ã, –ø–ª–æ—â–∞–¥–∫–∏, —Å–±–æ—Ä–Ω—ã–µ –±–∞–ª–∫–∏/—Ñ–µ—Ä–º—ã', '–ø–∏–ª–æ–º–∞—Ç–µ—Ä–∏–∞–ª (S02), –∫—Ä–µ–ø—ë–∂ (S03)', '-', NOW(), NOW()),

-- H06
('S61', '–≠–ª–µ–∫—Ç—Ä–∏–∫–∞', '–ö–∞–±–µ–ª–∏, –∞–≤—Ç–æ–º–∞—Ç—ã, —Ä–æ–∑–µ—Ç–∫–∏', true, 1, 'H06/S61', '–∫–∞–±–µ–ª–∏/–ø—Ä–æ–≤–æ–¥–∞, –∞–≤—Ç–æ–º–∞—Ç—ã/–£–ó–û/—â–∏—Ç–∫–∏, —Ä–æ–∑–µ—Ç–∫–∏/–≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏, –≥–æ—Ñ—Ä–∞/–∫–æ—Ä–æ–±–∞, –∑–∞–∑–µ–º–ª–µ–Ω–∏–µ', '—ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (SA2), –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã (SA1), —Ö–∏–º–∏—è (S81)', '-', NOW(), NOW()),
('S62', '–í–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ', '–¢—Ä—É–±—ã/—Ñ–∏—Ç–∏–Ω–≥–∏, –Ω–∞—Å–æ—Å—ã', true, 1, 'H06/S62', '—Ç—Ä—É–±—ã/—Ñ–∏—Ç–∏–Ω–≥–∏ (PPR/PEX/HDPE/PVC), –∫—Ä–∞–Ω—ã/–∑–∞–¥–≤–∏–∂–∫–∏, –∫–æ–ª–æ–¥—Ü—ã/—Ä–µ–≤–∏–∑–∏–∏, –Ω–∞—Å–æ—Å—ã/–≥–∏–¥—Ä–æ–±–∞–∫–∏', '–∫–æ—Ç–ª—ã/—Ä–∞–¥–∏–∞—Ç–æ—Ä—ã (S63/S65), –≥–µ—Ä–º–µ—Ç–∏–∫–∏ (S81)', '-', NOW(), NOW()),
('S63', '–û—Ç–æ–ø–ª–µ–Ω–∏–µ/–≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è', '–†–∞–¥–∏–∞—Ç–æ—Ä—ã, –≤–µ–Ω—Ç—É—Å—Ç–∞–Ω–æ–≤–∫–∏', true, 1, 'H06/S63', '—Ä–∞–¥–∏–∞—Ç–æ—Ä—ã/–∫–æ–Ω–≤–µ–∫—Ç–æ—Ä—ã, –≤–µ–Ω—Ç—É—Å—Ç–∞–Ω–æ–≤–∫–∏/—Ä–µ–∫—É–ø–µ—Ä–∞—Ç–æ—Ä—ã, –≤–æ–∑–¥—É—Ö–æ–≤–æ–¥—ã, –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã', '—Ç—ë–ø–ª—ã–µ –ø–æ–ª—ã (S64), —ç–ª–µ–∫—Ç—Ä–∏–∫–∞ (S61)', '-', NOW(), NOW()),
('S64', '–¢—ë–ø–ª—ã–µ –ø–æ–ª—ã', '–ö–æ–º–ø–ª–µ–∫—Ç—ã –¢–ü', true, 1, 'H06/S64', '–∫–æ–º–ø–ª–µ–∫—Ç—ã –¢–ü (–≤–æ–¥—è–Ω—ã–µ/—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ), –º–∞—Ç—ã/–∫–∞–±–µ–ª–∏/–∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã, —Ç–µ—Ä–º–æ—Ä–µ–≥—É–ª—è—Ç–æ—Ä—ã', '—á–∏—Å—Ç–æ–≤—ã–µ –ø–æ–ª—ã (S73), –∫–ª–µ–∏ (S81)', '-', NOW(), NOW()),
('S65', '–ö–æ—Ç–µ–ª—å–Ω–∞—è', '–ö–æ—Ç–ª—ã, –±–æ–π–ª–µ—Ä—ã', true, 1, 'H06/S65', '–∫–æ—Ç–ª—ã/–±–æ–π–ª–µ—Ä—ã/–ì–í–°, –Ω–∞—Å–æ—Å–Ω—ã–µ –≥—Ä—É–ø–ø—ã, –≥–∏–¥—Ä–æ—Å—Ç—Ä–µ–ª–∫–∏, –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã, –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞', '—ç–ª–µ–∫—Ç—Ä–∏–∫–∞ (S61), —Ö–∏–º–∏—è (S81)', '-', NOW(), NOW()),

-- H07
('S71', '–ß–µ—Ä–Ω–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞', '–ì–ö–õ, —Å–º–µ—Å–∏', true, 1, 'H07/S71', '–ì–ö–õ/–ì–í–õ, –ø—Ä–æ—Ñ–∏–ª–∏/–ø–æ–¥–≤–µ—Å—ã, —à—Ç—É–∫–∞—Ç—É—Ä–∫–∏/—à–ø–∞—Ç–ª—ë–≤–∫–∏/–≥—Ä—É–Ω—Ç—ã, —Å–µ—Ç–∫–∏/—É–≥–æ–ª–∫–∏', '—á–∏—Å—Ç–æ–≤—ã–µ –ø–æ–∫—Ä—ã—Ç–∏—è (S72/S73), –∫–ª–µ–∏ (S81)', '-', NOW(), NOW()),
('S72', '–ß–∏—Å—Ç–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞', '–ö—Ä–∞—Å–∫–∏, –æ–±–æ–∏', true, 1, 'H07/S72', '–∏–Ω—Ç–µ—Ä—å–µ—Ä–Ω—ã–µ –∫—Ä–∞—Å–∫–∏/–ª–∞–∫–∏, –æ–±–æ–∏/–ø–∞–Ω–µ–ª–∏, –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —à—Ç—É–∫–∞—Ç—É—Ä–∫–∏', '–ø–æ–ª—ã (S73), —Ñ—É—Ä–Ω–∏—Ç—É—Ä–∞ (S74)', '-', NOW(), NOW()),
('S73', '–ü–æ–ª—ã (–ø–æ–∫—Ä—ã—Ç–∏—è)', '–õ–∞–º–∏–Ω–∞—Ç, –ø–ª–∏—Ç–∫–∞', true, 1, 'H07/S73', '–ª–∞–º–∏–Ω–∞—Ç/–≤–∏–Ω–∏–ª/–ø–∞—Ä–∫–µ—Ç, –∫–µ—Ä–∞–º–æ–≥—Ä–∞–Ω–∏—Ç, –ø–æ–¥–ª–æ–∂–∫–∏, –ø–ª–∏–Ω—Ç—É—Å—ã', '—á–µ—Ä–Ω–æ–≤–æ–π –ø–æ–ª (S02/S04), –∫–ª–µ–∏ (S81)', '-', NOW(), NOW()),
('S74', '–§—É—Ä–Ω–∏—Ç—É—Ä–∞ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞', '–†—É—á–∫–∏, –ø–µ—Ç–ª–∏', true, 1, 'H07/S74', '—Ä—É—á–∫–∏/–ø–µ—Ç–ª–∏/–∑–∞—â—ë–ª–∫–∏, –∫–ª—è–π–º–µ—Ä—ã –ø–ª–∏–Ω—Ç—É—Å–æ–≤, –¥–µ–∫–æ—Ä-—É–≥–æ–ª–∫–∏', '–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤ (S03), —Ö–∏–º–∏—è (S81)', '-', NOW(), NOW()),

-- H08
('S81', '–•–∏–º–∏—è/—Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏', '–ü–µ–Ω—ã, –∫–ª–µ–∏, –≥–µ—Ä–º–µ—Ç–∏–∫–∏', true, 1, 'H08/S81', '–º–æ–Ω—Ç–∞–∂–Ω—ã–µ –ø–µ–Ω—ã, –≥–µ—Ä–º–µ—Ç–∏–∫–∏, –∫–ª–µ–∏, –º–∞—Å—Ç–∏–∫–∏, –ø—Ä–∞–π–º–µ—Ä—ã, –∞–±—Ä–∞–∑–∏–≤—ã, —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞', '–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (SA2), –º–µ–º–±—Ä–∞–Ω—ã (S12)', '–õ—é–±–æ–π –∫–ª–µ–π/–ø–µ–Ω–∞ ‚Äî S81', NOW(), NOW()),

-- H09
('S91', '–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏', '–õ–µ—Å–∞, –æ–ø–∞–ª—É–±–∫–∞', true, 1, 'H09/S91', '–ª–µ—Å–∞/–≤—ã—à–∫–∏/–ø–æ–¥–º–æ—Å—Ç–∏, —Å—Ç–æ–π–∫–∏/—Ä–∏–≥–µ–ª—è –æ–ø–∞–ª—É–±–∫–∏, –±—ã—Ç–æ–≤–∫–∏', '–°–ò–ó (SC1), –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (SA2)', '-', NOW(), NOW()),

-- H0A
('SA1', '–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ', '–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã, —Å—Ç–∞–Ω–∫–∏', true, 1, 'H0A/SA1', '–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã, –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä—ã, –±–µ—Ç–æ–Ω–æ–º–µ—à–∞–ª–∫–∏, —Å—Ç–∞–Ω–∫–∏/–ø–∏–ª–æ—Ä–∞–º—ã, —Ç–µ–ø–ª–æ–≤—ã–µ –ø—É—à–∫–∏', '—Ä—É—á–Ω–æ–π/—ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (SA2/SA3)', '-', NOW(), NOW()),
('SA2', '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', '–®—É—Ä—É–ø–æ–≤—ë—Ä—Ç—ã, –ø–∏–ª—ã', true, 1, 'H0A/SA2', '—à—É—Ä—É–ø–æ–≤—ë—Ä—Ç—ã, –ø–µ—Ä—Ñ–æ—Ä–∞—Ç–æ—Ä—ã, –£–®–ú, –ª–æ–±–∑–∏–∫–∏, –±–µ–Ω–∑–æ–ø–∏–ª—ã, –ø—Ä–æ–º. –ø—ã–ª–µ—Å–æ—Å—ã', '—Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ (S81), —Ä—É—á–Ω–æ–π (SA3)', '-', NOW(), NOW()),
('SA3', '–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', '–ú–æ–ª–æ—Ç–∫–∏, —É—Ä–æ–≤–Ω–∏', true, 1, 'H0A/SA3', '–º–æ–ª–æ—Ç–∫–∏, –æ—Ç–≤—ë—Ä—Ç–∫–∏, –Ω–æ–∂–∏, —Å—Ç–µ–ø–ª–µ—Ä—ã, —É—Ä–æ–≤–Ω–∏/—Ä—É–ª–µ—Ç–∫–∏/–¥–∞–ª—å–Ω–æ–º–µ—Ä—ã, —à–ø–∞—Ç–µ–ª–∏', '—ç–ª–µ–∫—Ç—Ä–æ (SA2)', '-', NOW(), NOW()),

-- H0B
('SB1', '–ë–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ', '–î—Ä–µ–Ω–∞–∂, –¥–µ–∫–∏–Ω–≥', true, 1, 'H0B/SB1', '–¥—Ä–µ–Ω–∞–∂/–ª–∏–≤–Ω—ë–≤–∫–∞, –≥–µ–æ—Ç–µ–∫—Å—Ç–∏–ª—å, –æ—Ç–º–æ—Å—Ç–∫–∞, –∑–∞–±–æ—Ä—ã, —Ç–µ—Ä—Ä–∞—Å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã', '–∫—Ä–æ–≤–ª—è/—Ñ–∞—Å–∞–¥ (S21/S31)', '-', NOW(), NOW()),
('SB2', '–õ–∞–Ω–¥—à–∞—Ñ—Ç/–ú–ê–§', '–ü–µ—Ä–≥–æ–ª—ã, –º–µ–±–µ–ª—å', true, 1, 'H0B/SB2', '–ø–µ—Ä–≥–æ–ª—ã/–Ω–∞–≤–µ—Å—ã, —Å–∞–¥–æ–≤—ã–µ —Ñ–æ—Ä–º—ã, —É–ª–∏—á–Ω—ã–µ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∏, —Å–∞–¥–æ–≤–∞—è –º–µ–±–µ–ª—å', '–∫–∞–±–µ–ª–∏ (S61), —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—ã (S01)', '-', NOW(), NOW()),

-- H0C
('SC1', '–°–ò–ó –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞', '–ö–∞—Å–∫–∏, –ø–æ—è—Å–∞', true, 1, 'H0C/SC1', '–∫–∞—Å–∫–∏/–æ—á–∫–∏/–ø–µ—Ä—á–∞—Ç–∫–∏, —Å—Ç—Ä–∞—Ö–æ–≤–æ—á–Ω—ã–µ –ø–æ—è—Å–∞, —Å–ø–µ—Ü–æ–¥–µ–∂–¥–∞, –∞–ø—Ç–µ—á–∫–∏', '–ª–µ—Å–∞ (S91)', '-', NOW(), NOW());

-- =====================================================
-- üéØ –ê–í–¢–û–õ–ò–ù–ö: –ü—Ä–æ—Å—Ç–∞–≤–ª—è–µ–º parent_id –¥–ª—è Sxx —á–µ—Ä–µ–∑ UPDATE
-- =====================================================
UPDATE catalog_category child
SET parent_id = parent.id
FROM catalog_category parent
WHERE 
    child.level = 1
    AND parent.level = 0
    AND substring(child.path, 1, 3) = parent.code;

-- =====================================================
-- ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê
-- =====================================================
SELECT 
    parent.code as PARENT, 
    COUNT(child.id) as CHILDREN_COUNT, 
    string_agg(child.code, ', ' ORDER BY child.code) as CHILDREN_LIST
FROM catalog_category parent
JOIN catalog_category child ON child.parent_id = parent.id
GROUP BY parent.code
ORDER BY parent.code;
